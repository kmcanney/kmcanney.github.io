<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" data-mc-search-type="Stem" data-mc-help-system-file-name="index.xml" data-mc-path-to-help-system="../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="Applying effects|Video effects" data-mc-conditions="Primary.MovieStudio,Primary.ProOnly">
    <!-- saved from url=(0016)http://localhost -->
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <link href="../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" />
        <link href="../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" />
        <link href="../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" /><title>Compositing and masks</title>
        <link href="Resources/TableStyles/Basic.css" rel="stylesheet" data-mc-stylesheet-type="table" />
        <link href="Resources/Stylesheets/sony.css" rel="stylesheet" type="text/css" />
        <script src="../Resources/Scripts/custom.modernizr.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/foundation.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/plugins.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/require.min.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/require.config.js" type="text/javascript">
        </script>
        <script src="../Resources/Scripts/MadCapAll.js" type="text/javascript">
        </script>
    </head>
    <body>
        <h2><a name="kanchor476"></a>Compositing and masks</h2>
        <p data-mc-conditions="Primary.Online">Compositing is the process of mixing video tracks to create a single layered output.</p>
        <p>You can use compositing in conjunction with masks to cover portions 
 of video or to limit the effects of a filter. Masks are frequently based 
 on dark versus light areas, specific colors, or an <a href="Glossary2.htm#alpha_channel" class="MCTopicPopup MCTopicPopupHotSpot a aPopup" data-mc-width="auto" data-mc-height="auto">alpha channel</a>.</p>
        <p>Click the <span class="uielement">Parent Composite 
 Mode</span> or <span class="uielement">Compositing 
 Mode</span> button <img src="Resources/Images/b_compositingmode.gif" data-mc-conditions="Primary.ProOnly" /> in the track header and choose a mode from the menu 
 to determine how the transparency in a video track is generated. Since 
 lower tracks show through higher tracks, it is the compositing mode of 
 the higher track that determines how much of the lower track shows though. 
 The compositing mode of the lowest video track adjusts its transparency 
 against the background.</p>
        <p data-mc-conditions="Primary.ProOnly">
            <img src="Resources/Images/LOC/parentcompositingmode.gif" />
            <img src="Resources/Images/LOC/compositingmode2.gif" />
        </p>
        <p>To change the opacity/transparency of all events on the track, drag 
 the <span class="uielement">Level</span> slider 
 in the track header or use a composite-level 
 envelope adjust the opacity/transparency over time. For more information, see <a href="VideoTrack.htm" title="" alt="" class="MCXref xref">"<span style="color: #009ccc;" class="mcFormatColor"><u>Video track controls</u></span>"</a> and <a href="InsertVidEnv.htm" title="" alt="" class="period MCXref xref xrefperiod">"<span style="color: #009ccc;" class="mcFormatColor"><u>Video track automation</u></span>."</a></p>
        <p>To change the opacity/transparency of a single event, you can use an 
 event envelope. For more information, see <a href="Event_Envelopes.htm" title="" alt="" class="period MCXref xref xrefperiod">"<span style="color: #009ccc;" class="mcFormatColor"><u>Event envelopes</u></span>."</a></p>
        <p class="tip" data-mc-conditions="Primary.ProOnly">The compositing model in <span class="PrimaryProductName">Vegas Pro</span> 
 6.0 and later differs significantly from the <span class="PrimaryProductName">Vegas Pro</span> 
 4.0 model. To reproduce the <span class="PrimaryProductName">Vegas Pro</span> 
 4.0 parent/child masking behavior, set the compositing mode of the parent 
 track to <span class="uielement">Multiply</span>, and then apply the Mask Generator plug-in 
 as a track effect on the parent track.</p>
        <hr width="100%" size="0" align="center" data-mc-conditions="Primary.Online" />
        <h3 class="pagebreak"><a href="javascript:void(0);" class="MCToggler MCTogglerHead MCTogglerHotSpot MCToggler_Open toggler MCTogglerHotSpot_" data-mc-targets="t4" name="kanchor477"><img class="MCToggler_Image_Icon" src="../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Learning more about parent and child tracks</a>
        </h3>
        <div class="h3" style="display: none;" data-mc-target-name="t4">
            <p>The key to understanding overlays, masks, transparency, 
 and compositing is to understand the parent/child relationship between 
 tracks. In general terms, the parent track is the highest track in a group 
 of tracks (often only two) and the behavior of the child tracks (i.e. 
 how they are composited together) is determined by the parent track.</p>
            <ul>
                <li value="1">
                    <p>Click the <span class="uielement">Make Compositing Child</span> button <img src="Resources/Images/b_makechild.gif" data-mc-conditions="Primary.ProOnly" /> on a parent track to make a child track.</p>
                </li>
                <li value="2">
                    <p>Click the <span class="uielement">Make Compositing Parent</span> button <img src="Resources/Images/b_makeparent.gif" data-mc-conditions="Primary.ProOnly" /> on a child track to make a parent track.</p>
                </li>
            </ul>
            <p>In this first example, there are three tracks. Track one 
 contains a mask. The circular region in the mask is transparent, so the 
 second track shows through. The third track is also a child, so it is 
 displayed behind track two.</p>
            <p data-mc-conditions="Primary.ProOnly">
                <img src="Resources/Images/LOC/masklayer_ie.gif" />
            </p>
            <p>In this example, the third track is also a parent, so it is displayed behind the composite of tracks one and two.</p>
            <p data-mc-conditions="Primary.ProOnly">
                <img src="Resources/Images/LOC/masklayer_ie2.gif" />
            </p>
            <p data-mc-conditions="Primary.ProOnly">You can also produce complex compositing by creating nested 
 parent/child groups with compositing parents and children at various levels.</p>
            <p data-mc-conditions="Primary.ProOnly">When you have multiple levels of parent and child tracks, clicking the 
 <span class="uielement">Make Compositing Child</span> 
 button <img src="Resources/Images/b_makechild.gif" data-mc-conditions="Primary.ProOnly" /> moves the 
 track in one level and clicking the <span class="uielement">Make 
 Compositing Parent</span> button <img src="Resources/Images/b_makeparent.gif" data-mc-conditions="Primary.ProOnly" /> moves out one level.</p>
            <p data-mc-conditions="Primary.ProOnly">Hold Ctrl while clicking the <span class="uielement">Make Compositing Child</span> button <img src="Resources/Images/b_makechild.gif" data-mc-conditions="Primary.ProOnly" /> to move a track and all its child tracks in one level.</p>
            <p data-mc-conditions="Primary.ProOnly">
                <img src="Resources/Images/deepnestedcomposite.gif" />
            </p>
            <p data-mc-conditions="Primary.ProOnly">For examples of how parent/child track relationships affect 3D compositing, see <a href="3D_Compositing.htm" title="" alt="" class="period MCXref xref xrefperiod">"<span style="color: #009ccc;" class="mcFormatColor"><u>3D compositing</u></span>."</a></p>
        </div>
        <h3><a href="javascript:void(0);" class="MCToggler MCTogglerHead MCTogglerHotSpot MCToggler_Open toggler MCTogglerHotSpot_" data-mc-targets="t3"><img class="MCToggler_Image_Icon" src="../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Learning more about compositing modes and transparency</a>
        </h3>
        <div class="h3" style="display: none;" data-mc-target-name="t3">
            <p>The <span class="uielement">Compositing 
 Mode</span> button <img src="Resources/Images/b_compositingmode.gif" data-mc-conditions="Primary.ProOnly" /> determines how the transparency in a video 
 track is generated. Because lower tracks show through higher tracks, it 
 is the compositing mode of the higher track that determines how much of 
 the lower track shows though. The compositing mode of the lowest video 
 track adjusts its transparency against the background.</p>
            <p>The mode can be selected by clicking the <span class="uielement">Compositing 
 Mode</span> button and choosing a mode from the menu.</p>
            <p>The following examples demonstrate how each of the compositing 
 modes would affect two simple tracks. Track one is a generated media event 
 with a transparent edge, and track two is a DV clip.</p>
            <p data-mc-conditions="Primary.ProOnly">
                <img src="Resources/Images/compositeexample.gif" />
            </p>
            <table style="mc-table-style: url('Resources/TableStyles/Basic.css');" class="TableStyle-Basic" cellspacing="0">
                <col class="Column-Column1" style="width: 1.25in;" />
                <col class="Column-Column1" style="width: 4in;" />
                <col class="Column-Column1" style="width: 1.25in;" />
                <thead>
                    <tr class="Head-Header1">
                        <th class="HeadE-Column1-Header1">
                            <p>Mode</p>
                        </th>
                        <th class="HeadE-Column1-Header1">
                            <p>Description</p>
                        </th>
                        <th class="HeadD-Column1-Header1">
                            <p>Example</p>
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <tr class="Body-Body1">
                        <td class="BodyE-Column1-Body1">
                            <p><a name="kanchor478"></a><span class="uielement">Multiply (Mask)</span>
                            </p>
                        </td>
                        <td class="BodyE-Column1-Body1">
                            <p>Merges the colors of the tracks.</p>
                        </td>
                        <td class="BodyD-Column1-Body1">
                            <p>
                                <img src="Resources/Images/compositing-multiply.gif" />
                            </p>
                        </td>
                    </tr>
                    <tr class="Body-Body1">
                        <td class="BodyE-Column1-Body1">
                            <p><a name="kanchor479"></a><span class="uielement">Source Alpha</span>
                            </p>
                        </td>
                        <td class="BodyE-Column1-Body1">
                            <p>Uses the alpha channel to determine transparency.</p>
                            <p class="note">The compositing mode is based on the alpha channel 
 characteristics of an event or media file. If no alpha channel is present, 
 the <span class="uielement">Source Alpha</span> mode has no effect.</p>
                        </td>
                        <td class="BodyD-Column1-Body1">
                            <p>
                                <img src="Resources/Images/compositing-sourcealpha.gif" />
                            </p>
                        </td>
                    </tr>
                    <tr class="Body-Body1" data-mc-conditions="Primary.ProOnly">
                        <td class="BodyE-Column1-Body1">
                            <p><a name="kanchor480"></a><span class="uielement">Add</span>
                            </p>
                        </td>
                        <td class="BodyE-Column1-Body1">
                            <p>Combines the color values in the composite group.</p>
                        </td>
                        <td class="BodyD-Column1-Body1">
                            <p>
                                <img src="Resources/Images/compositing-add.gif" />
                            </p>
                        </td>
                    </tr>
                    <tr class="Body-Body1" data-mc-conditions="Primary.ProOnly">
                        <td class="BodyE-Column1-Body1">
                            <p><a name="kanchor481"></a><span class="uielement">Subtract</span>
                            </p>
                        </td>
                        <td class="BodyE-Column1-Body1">
                            <p>Subtracts the overlay color values from the background.</p>
                        </td>
                        <td class="BodyD-Column1-Body1">
                            <p>
                                <img src="Resources/Images/compositing-subtract.gif" />
                            </p>
                        </td>
                    </tr>
                    <tr class="Body-Body1" data-mc-conditions="Primary.ProOnly">
                        <td class="BodyE-Column1-Body1">
                            <p><a name="kanchor482"></a><span class="uielement">Cut</span>
                            </p>
                        </td>
                        <td class="BodyE-Column1-Body1">
                            <p>Cuts out the overlay color values from the background.</p>
                        </td>
                        <td class="BodyD-Column1-Body1">
                            <p>
                                <img src="Resources/Images/compositing-cut.gif" />
                            </p>
                        </td>
                    </tr>
                    <tr class="Body-Body1" data-mc-conditions="Primary.ProOnly">
                        <td class="BodyE-Column1-Body1">
                            <p><a name="kanchor483"></a><span class="uielement">Screen</span>
                            </p>
                        </td>
                        <td class="BodyE-Column1-Body1">
                            <p>Multiplies the inverse of 
 the overlay color values with the background color values. This makes 
 overlay colors weaker and less present and results in a lighter video 
 image. The opposite of this mode is <span class="uielement">Multiply</span>.</p>
                        </td>
                        <td class="BodyD-Column1-Body1">
                            <p>
                                <img src="Resources/Images/compositing-screen.gif" />
                            </p>
                        </td>
                    </tr>
                    <tr class="Body-Body1" data-mc-conditions="Primary.ProOnly">
                        <td class="BodyE-Column1-Body1">
                            <p><a name="kanchor484"></a><span class="uielement">Overlay</span>
                            </p>
                        </td>
                        <td class="BodyE-Column1-Body1">
                            <p>Heightens contrast by using 
 <span class="uielement">Multiply</span> mode on darker colors 
 and <span class="uielement">Screen</span> mode on lighter colors.</p>
                        </td>
                        <td class="BodyD-Column1-Body1">
                            <p>
                                <img src="Resources/Images/compositing-overlay.gif" />
                            </p>
                        </td>
                    </tr>
                    <tr class="Body-Body1" data-mc-conditions="Primary.ProOnly">
                        <td class="BodyE-Column1-Body1">
                            <p><a name="kanchor485"></a><span class="uielement">Hard Light</span>
                            </p>
                        </td>
                        <td class="BodyE-Column1-Body1">
                            <p>Adds overlay colors as if the overlay were lit by a bright, focused spotlight.</p>
                        </td>
                        <td class="BodyD-Column1-Body1">
                            <p>
                                <img src="Resources/Images/compositing-hardlight.gif" />
                            </p>
                        </td>
                    </tr>
                    <tr class="Body-Body1" data-mc-conditions="Primary.ProOnly">
                        <td class="BodyE-Column1-Body1">
                            <p><a name="kanchor486"></a><span class="uielement">Dodge</span>
                            </p>
                        </td>
                        <td class="BodyE-Column1-Body1">
                            <p>Brightens the background based on the overlay color values.</p>
                        </td>
                        <td class="BodyD-Column1-Body1">
                            <p>
                                <img src="Resources/Images/compositing-dodge.gif" />
                            </p>
                        </td>
                    </tr>
                    <tr class="Body-Body1" data-mc-conditions="Primary.ProOnly">
                        <td class="BodyE-Column1-Body1">
                            <p><a name="kanchor487"></a><span class="uielement">Burn</span>
                            </p>
                        </td>
                        <td class="BodyE-Column1-Body1">
                            <p>Darkens the background based on the overlay color values.</p>
                        </td>
                        <td class="BodyD-Column1-Body1">
                            <p>
                                <img src="Resources/Images/compositing-burn.gif" />
                            </p>
                        </td>
                    </tr>
                    <tr class="Body-Body1" data-mc-conditions="Primary.ProOnly">
                        <td class="BodyE-Column1-Body1">
                            <p><a name="kanchor488"></a><span class="uielement">Darken</span>
                            </p>
                        </td>
                        <td class="BodyE-Column1-Body1">
                            <p>Compares the overlay and background pixel by pixel and selects the darker color value for each pixel.</p>
                        </td>
                        <td class="BodyD-Column1-Body1">
                            <p>
                                <img src="Resources/Images/compositing-darken.gif" />
                            </p>
                        </td>
                    </tr>
                    <tr class="Body-Body1" data-mc-conditions="Primary.ProOnly">
                        <td class="BodyE-Column1-Body1">
                            <p><a name="kanchor489"></a><span class="uielement">Lighten</span>
                            </p>
                        </td>
                        <td class="BodyE-Column1-Body1">
                            <p>Compares the overlay and background pixel by pixel and selects the lighter color value for each pixel.</p>
                        </td>
                        <td class="BodyD-Column1-Body1">
                            <p>
                                <img src="Resources/Images/compositing-lighten.gif" />
                            </p>
                        </td>
                    </tr>
                    <tr class="Body-Body1" data-mc-conditions="Primary.ProOnly">
                        <td class="BodyE-Column1-Body1">
                            <p><a name="kanchor490"></a><span class="uielement">Difference</span>
                            </p>
                        </td>
                        <td class="BodyE-Column1-Body1">
                            <p>Compares the overlay and 
 background pixel by pixel and subtracts the darker color value from the 
 lighter color to generate a new color value.</p>
                        </td>
                        <td class="BodyD-Column1-Body1">
                            <p>
                                <img src="Resources/Images/compositing-difference.gif" />
                            </p>
                        </td>
                    </tr>
                    <tr class="Body-Body1" data-mc-conditions="Primary.ProOnly">
                        <td class="BodyB-Column1-Body1">
                            <p><a name="kanchor491"></a><span class="uielement">Difference Squared</span>
                            </p>
                        </td>
                        <td class="BodyB-Column1-Body1">
                            <p>Remaps color values along a parabolic 
 curve. The color values of the layers in the composite group are subtracted, 
 and then the subtracted values are squared.</p>
                            <p>The resulting image will 
 have less extreme changes in color values as the colors approach black 
 (RGB 0,0,0) and more extreme changes in color values as colors approach 
 white (RGB 255,255,255).</p>
                        </td>
                        <td class="BodyA-Column1-Body1">
                            <p>
                                <img src="Resources/Images/compositing-differencesquar.gif" />
                            </p>
                        </td>
                    </tr>
                </tbody>
            </table>
            <p data-mc-conditions="Primary.ProOnly">Drag the <span class="uielement">Level</span> 
 slider in a video track to control the transparency or blending of each 
 track. Left is 100% transparent and right is 100% opaque. You can also 
 double-click the percent to enter a specific numeric percentage.</p>
        </div>
        <h3 data-mc-conditions="Primary.ProOnly"><a href="javascript:void(0);" class="MCToggler MCTogglerHead MCTogglerHotSpot MCToggler_Open toggler MCTogglerHotSpot_" data-mc-targets="t2" name="kanchor492"><img class="MCToggler_Image_Icon" src="../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Using a 2-to-1 transform plug-in for custom compositing</a>
        </h3>
        <div class="h3" style="display: none;" data-mc-conditions="Primary.ProOnly" data-mc-target-name="t2">
            <p>When you click the <span class="uielement">Parent 
 Composite Mode</span> or <span class="uielement">Compositing 
 Mode</span>&#160;<img src="Resources/Images/b_compositingmode.gif" data-mc-conditions="Primary.ProOnly" /> button and choose <span class="uielement">Custom</span> from the menu, you can use plug-ins to customize compositing.</p>
            <p><a name="kanchor493"></a>The included Displacement Map, Height Map, and Bump Map 
 plug-ins can create interesting lens, mirror, water, fire, and other light-bending 
 effects.</p>
            <table style="mc-table-style: url('Resources/TableStyles/Basic.css');" class="TableStyle-Basic" cellspacing="0">
                <col style="width: 1.5in;" class="Column-Column1" />
                <col style="width: 4in;" class="Column-Column1" />
                <thead>
                    <tr class="Head-Header1">
                        <th class="HeadE-Column1-Header1">
                            <p>Plug-In</p>
                        </th>
                        <th class="HeadD-Column1-Header1">
                            <p>Description</p>
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <tr class="Body-Body1">
                        <td class="BodyE-Column1-Body1">
                            <p>Displacement 
 Map</p>
                        </td>
                        <td class="BodyD-Column1-Body1">
                            <p>Uses the parent image as a guide to 
 offset the pixels in the composited child tracks along the horizontal 
 and vertical axes.</p>
                            <p>The X and 
 Y offsets are independently encoded in the image color channels.</p>
                        </td>
                    </tr>
                    <tr class="Body-Body1">
                        <td class="BodyE-Column1-Body1">
                            <p>Height 
 Map</p>
                        </td>
                        <td class="BodyD-Column1-Body1">
                            <p>Uses the parent image as a guide to 
 make the pixels in the composited child tracks appear closer to or farther 
 away from the viewer.</p>
                            <p>The gradient 
 of the image in the parent track is used to determine the amount of offset 
 for the image displayed at that location, in much the same way light bends 
 through a lens.</p>
                        </td>
                    </tr>
                    <tr class="Body-Body1">
                        <td class="BodyB-Column1-Body1">
                            <p>Bump 
 Map</p>
                        </td>
                        <td class="BodyA-Column1-Body1">
                            <p>Uses the parent image as a guide to 
 add texture and lighting to the composited child tracks.</p>
                            <p>The texture 
 of the bump map is applied to the composited child tracks: light sections 
 of the map represent high areas, and dark sections represent low areas.</p>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <h3><a href="javascript:void(0);" class="MCToggler MCTogglerHead MCTogglerHotSpot MCToggler_Open toggler MCTogglerHotSpot_" data-mc-targets="t1"><img class="MCToggler_Image_Icon" src="../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" />Creating a mask</a>
        </h3>
        <div class="h3" style="display: none;" data-mc-target-name="t1">
            <ol>
                <li value="1">
                    <p>If you have not already 
 done so, place and position 
 the image or video you want to use as a mask on the top-level track in 
 your project. For more information, see <a href="AddingMediaFilesProject.htm" title="" alt="" class="period MCXref xref xrefperiod">"<span style="color: #009ccc;" class="mcFormatColor"><u>Adding media files to your project</u></span>."</a></p>
                </li>
                <li value="2">
                    <p>Place video files on the 
 tracks below the mask.</p>
                </li>
                <li value="3">
                    <p>Ensure your mask is a compositing 
 parent the tracks below are child tracks.</p>
                </li>
                <li value="4">
                    <p>Click the <span class="uielement">Compositing 
 Mode</span> button <img src="Resources/Images/b_compositingmode.gif" data-mc-conditions="Primary.ProOnly" /> on the mask track and choose <span class="uielement">Multiply 
 (Mask)</span> from the menu.</p>
                    <p>If your mask image is grayscale, you're done. If not, continue with Step 5.</p>
                </li>
                <li value="5">
                    <p>Add the Mask 
 Generator plug-in as a track effect on the mask track and adjust the 
 controls as needed to set transparency in the mask track. </p>
                    <p class="tip">You can also use the Event 
 Pan/Crop dialog to create event-level Bézier masks. For more information, see <a href="PanCropWindow.htm" title="" alt="" class="period MCXref xref xrefperiod">"<span style="color: #009ccc;" class="mcFormatColor"><u>Panning and cropping video events</u></span>."</a></p>
                </li>
            </ol>
            <p data-mc-conditions="Primary.ProOnly">
                <img src="Resources/Images/masksolid.gif" />
            </p>
            <p>Solid-color mask</p>
            <p data-mc-conditions="Primary.ProOnly">
                <img src="Resources/Images/gradmask.gif" />
            </p>
            <p>Gradient mask</p>
        </div>
    </body>
</html>